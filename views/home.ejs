<!-- Reviews (home) page
     Posting/deleting reviews (author: Saadiyah)
     Getting reviews (author: Abdi) -->
<!DOCTYPE html>
<html>
    <head>
        <title>Foodback MIT</title>
        <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="/css/style.css">
        <script src="/js/jquery.min.js"></script>
        <script src="/js/bootstrap.min.js"></script>
        <script src="/js/script.js"></script>
    </head>
    <body>
        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/">Foodback MIT</a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="/">Reviews</a></li>
                    </ul>
                    <ul id="user-header" class="nav navbar-nav navbar-right">
                        <% if (typeof user == 'undefined') { %>
                            <li><a href="/users/login">Log In or Sign Up</a></li>
                        <% } else { %>
                            <li><a>Signed in as <%= user %></a></li>
                            <li><a id="logout-link">Log Out</a></li>
                        <% } %>
                    </ul>
                </div>
            </div>
        </div>
        <div class="container page-container">
            <div id="error-container" class="alert alert-danger" role="alert"></div>
            <div id="success-container" class="alert alert-success" role="alert"></div>
            
            <% if (typeof user != 'undefined') { %>
                <button id="make_button" class="btn btn-md btn-default">Post a Review</button>
            <% } %>
            
            <form id="post_form" class="form-horizontal">
                <div class="form-group">
                    <label class="control-label col-xs-2" for="hall">Dining Hall:</label>
                    <div class="col-xs-4">
                        <select id="new_review_hall" class="form-control" name="hall" required>
                            <option value="" selected disabled>Select</option>
                            <option value="baker">Baker</option>
                            <option value="maseeh">Maseeh</option>
                            <option value="mccormick">McCormick</option>
                            <option value="next">Next</option>
                            <option value="simmons">Simmons</option>
                        </select>
                    </div>
                    <label class="control-label col-xs-2" for="period">Meal Period:</label>
                    <div class="col-xs-4">
                        <select id="new_review_period" class="form-control" name="period" required>
                            <option value="" selected disabled>Select</option>
                            <option value="breakfast">Breakfast</option>
                            <option value="brunch">Brunch</option>
                            <option value="lunch">Lunch (Maseeh only)</option>
                            <option value="dinner">Dinner</option>
                            <option value="late-night">Late night (Simmons only)</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-xs-12 form-center">
                    <label class="control-label" for="content">Comment:</label><br>
                </div>

                <div class="form-group col-xs-12 form-center">
                    <textarea id="new_review_content" class="form-control" name="content" rows="10" required></textarea>
                </div>

                <div class="form-group">
                    <label class="control-label col-xs-2" for="rating">Rating:</label>
                    <div class="col-xs-2">
                        <select id="new_review_rating" class="form-control" name="rating" required>
                            <option value="" selected disabled>Select</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <label class="control-label col-xs-2" for="tags">Tags:</label>
                    <div class="col-xs-6">
                        <input id="new_review_tags" class="form-control" type="text" name="tags" placeholder="Optional; separate tags with commas">
                    </div>
                </div>

                <button id="post_button" class="btn btn-md btn-primary btn-block" action="submit">Post</button>
            </form>

            <div id="reviews_container">
                <h2>Reviews</h2>

                <form id="search_form" class="form-horizontal">
                    <div class="form-group">
                        <label class="control-label col-xs-2" for="hall">Filter By:</label>
                        <label class="control-label col-xs-2" for="hall">Dining Hall:</label>
                        <div class="col-xs-3">
                            <select id="search_hall" class="form-control" name="hall" required>
                                <option value="all" selected>All</option>
                                <option value="baker">Baker</option>
                                <option value="maseeh">Maseeh</option>
                                <option value="mccormick">McCormick</option>
                                <option value="next">Next</option>
                                <option value="simmons">Simmons</option>
                            </select>
                        </div>
                        <label class="control-label col-xs-2" for="period">Meal Period:</label>
                        <div class="col-xs-3">
                            <select id="search_period" class="form-control" name="period" required>
                                <option value="all" selected>All</option>
                                <option value="breakfast">Breakfast</option>
                                <option value="brunch">Brunch</option>
                                <option value="lunch">Lunch (Maseeh only)</option>
                                <option value="dinner">Dinner</option>
                                <option value="late-night">Late night (Simmons only)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-xs-2"></div>
                        <label class="control-label col-xs-2" for="tags">Tags:</label>
                        <div class="col-xs-6">
                            <input id="search_tags" class="form-control" type="text" name="tags" placeholder="(separate tags with commas)">
                        </div>
                        <div class="col-xs-2">
                            <button id="tags_button" class="btn btn-md btn-primary btn-block" action="submit">Apply Tags</button>
                        </div>
                    </div>
                </form>

                <div id="reviews"></div>
            </div>
        </div>
    </body>
</html>
